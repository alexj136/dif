\[\begin{array}{c}
    \RULE{Var-Ex} \quad \TJ{\Gamma, p: S, \Gamma'}{p}{S}{p} \qquad

    \RULE{Var-Im} \quad \TJ{\Gamma, i: S, \Gamma'}{\IMP}{S}{i} \\[4mm]

    \RULE{Sub} \quad \inference{
        \TJ{\Gamma}{t}{S}{\HAT{t}} \quad
        \SJT{\Gamma}{S}{S'}
    }{
        \TJ{\Gamma}{t}{S'}{\HAT{t}}
    } \\[4mm]

    \RULE{All-I} \quad \inference{
        x \leadsto u \quad
        \TJ{\Gamma, u: S}{t}{U}{\HAT{t}} \quad
        \{x, u\} \cap \FV{S} = \o
    }{
        \TJ{\Gamma}{\ABS{x}{S}{t}}{\DFUN{u}{S}{U}}{\ABS{u}{S}{\HAT{t}}}
    } \qquad

    \RULE{All-E} \quad \inference{
        \TJ{\Gamma}{x}{\DFUN{u}{S}{U}}{\HAT{x}} \quad
        \TJ{\Gamma}{y}{S}{\HAT{y}}
    }{
        \TJ{\Gamma}{x\ y}{\SUB{u}{y}U}{\HAT{x}\ \HAT{y}}
    } \\[4mm]

    \RULE{Let} \quad \inference{
        x \leadsto u \quad
        \TJ{\Gamma}{t}{S}{\HAT{t}} \quad
        \TJ{\Gamma, u: S}{t'}{U}{\HAT{t'}} \quad
        x \notin \FV{U}
    }{
        \TJ{\Gamma}{\LET{x}{t}{t'}}{U}{\LET{u}{\HAT{t}}{\HAT{t'}}}
    } \qquad

    \RULE{And-I} \quad \inference{
        \TJ{\Gamma}{x}{S}{\HAT{x}} \quad
        \TJ{\Gamma}{x}{U}{\HAT{x}}
    }{
        \TJ{\Gamma}{x}{\AGG{S}{U}}{\HAT{x}}
    } \\[4mm]

    \RULE{\{\}-I} \quad \inference{
        x \leadsto u \quad
        \TJ{\Gamma, u: S}{d}{S}{\HAT{d}}
    }{
        \TJ{\Gamma}{\OBJ{x}{S}{d}}{\REC{u}{S}}{\OBJ{u}{S}{\HAT{d}}}
    } \qquad

    \RULE{Fld-E} \quad \inference{
        \TJ{\Gamma}{x}{\FDEC{a}{S}}{\HAT{x}}
    }{
        \TJ{\Gamma}{x.a}{S}{\HAT{x}.a}
    } \\[4mm]

    \RULE{Rec-I} \quad \inference{
        \TJ{\Gamma}{x}{S}{\HAT{x}}
    }{
        \TJ{\Gamma}{x}{\REC{x}{S}}{\HAT{x}}
    } \qquad

    \RULE{Rec-E} \quad \inference{
        \TJ{\Gamma}{x}{\REC{x}{S}}{\HAT{x}}
    }{
        \TJ{\Gamma}{x}{S}{\HAT{x}}
    }
\end{array}\]
