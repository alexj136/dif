\begin{frame}
    \titlepage
\end{frame}

\begin{frame}
    \frametitle{In this talk, we ...}
    \begin{itemize}
        \pause
        \item Discuss background work
        \begin{itemize}
            \pause
            \item DOT \TODOTHIS
            \pause
            \item Implicits in Scala and the calculus SI of lambda + implicit
                functions \\
                \textcolor{grey}{\emph{Simplicitly, Biboudis et al, POPL'18}}
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{In this talk, we ...}
    \begin{itemize}
        \item Introduce our calculus IM of session-typed concurrency with
            implicits
        \pause
        \item In particular, we address the open question: Can implicits be
            generalised from sequential computation to concurrent computation?
        \pause
        \item Show some applications of implicits in a concurrent setting
        \pause
        \item Breifly discuss some possible further work
    \end{itemize}
\end{frame}

\begin{frame}
    \singletitle{Background}
\end{frame}

\begin{frame}
    \frametitle{Implicits}
    \begin{itemize}
        \item A mechanism for improving program readability
        \pause
        \item Generalisation of \textbf{default parameters}:
        \begin{itemize}
            \pause
            \item specify a default parameter that we can omit at call sites if
                we like
            \pause
            \item \texttt{def f(x:Int, y:Float = 0.01) = ...}
            \pause
            \item \texttt{f(10)} becomes \texttt{f(10, 0.01)}
            \pause
            \item Problem: inflexible, not general
            \pause
            \item What if we want to vary the default for different parts of our
                codebase?
        \end{itemize}
        \pause
        \item Solution: \textbf{implicit parameters} - detach the declaration
            that a parameter is provided implicitly from the function itself
        \item Choose a default based on the call site's context
    \end{itemize}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Implicits}
    \pause
    \begin{overprint}
        \onslide<2>
        \begin{lstlisting}[mathescape]
    def f(x: Int, implicit y: Float) = ...
    ...
    {
        implicit val v: Float = 4.0
        f(2)
    }
    ...
    {
        implicit val v: Float = 3.1415
        f(5)
    }
    ...
        \end{lstlisting}
        \onslide<3>
        \begin{lstlisting}[mathescape]
    def f(x: Int, implicit y: Float) = ...
    ...
    {
        implicit val v: Float = 4.0
        f(2, 4.0)
    }
    ...
    {
        implicit val v: Float = 3.1415
        f(5, 3.1415)
    }
    ...
        \end{lstlisting}
    \end{overprint}
\end{frame}

\begin{frame}
    \frametitle{Implicits and generic programming}
    \TODOTHIS
\end{frame}

\begin{frame}
    \frametitle{Soundness}
    \begin{itemize}
        \pause
        \item A translation from DIF programs to DOT programs
        \pause
        \begin{itemize}
            \item This follows the approach of the SI calculus, which gives a
                translation from lambda with implicit functions to System-F as
                a basis for Scala's implicits.
        \end{itemize}
        \pause
        \item A typable IM program has a LAST translation that is runtime-safe
            (by LAST's definition)
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Ambiguity} \TODOTHIS
    \begin{itemize}
        \item Unlike SI we disambiguate according to Dotty's rules (nesting
            depth and type specificity)
        \item Scala implicits are not coherent
        \item \emph{depth} and \emph{spec} functions - no correctness proof as
            no formal specification for Scala's disambiguation
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Coherence} \TODOTHIS
    \begin{itemize}
        \item Calculi coherent when there is exactly one way of translating out
            implicits
        \item COCHIS - theory of coherent implicits \TODO{cite}
        \item Coherence arguably not desirable in practice
        \item Scala implicits are not coherent
        \item DIF exists in the middle ground between theory (prefering
            coherence) and practice (prefering (limited) ambiguity)
    \end{itemize}
\end{frame}

\begin{frame}
\singletitle{\textbackslash end\{talk\}}
\end{frame}
