% Misc text macros
\newcommand{\TODO}[1]{\textbf{\uppercase{TODO: #1}}}
\newcommand\TODOTHIS{\fbox{\tiny \textsc{\uppercase{TODO}}}}

% Misc math macros
\newcommand{\SUB}[2]{[#1 := #2]}
\newcommand\HOL{[\ ]}
\newcommand{\CTX}[2]{#1[#2]}
\newcommand\IF{\ \textbf{if}\ }
\newcommand{\FN}[1]{\text{fn}(#1)}
\newcommand{\FV}[1]{\text{fv}(#1)}
\newcommand{\DOM}[1]{\text{dom}(#1)}
\newcommand\IMP{\wr}
\newcommand{\RED}[1]{{\color{red} #1}}

% Equivalence relations
\newcommand\EQDEF{\stackrel{\mathclap{\normalfont\mbox{def}}}{=}}
\newcommand{\STRUCT}[2]{#1 \equiv #2}

% Context-free grammars
\newenvironment{GRAMMAR}{\[\begin{array}{r c l l}}{\end{array}\]}
\newcommand{\GMLPRO}[3]{#1 & \GMPRO & #2 & \textit{#3} \\[1mm]}
\newcommand{\GMLPAR}[2]{& \GMPAR & #1 & \textit{#2} \\[1mm]}
\newcommand\GMPRO{\hspace{3mm} ::= \hspace{3mm}}
\newcommand\GMPAR{\quad {\big |} \quad}

% Typing rules and judgement helpers
\newcommand{\RULE}[1]{(\textsc{#1})}
\newcommand{\RULET}[1]{(\textsc{#1})$_{DOT}$}
\newcommand{\TJ}[4]{#1 \vdash #2: #3 \leadsto #4}
\newcommand{\TJT}[3]{#1 \vdash_{DOT} #2: #3}
\newcommand{\SJ}[4]{#1 \vdash #2 <: #3 \leadsto #4}
\newcommand{\SJT}[3]{#1 \vdash_{DOT} #2 <: #3}
\newcommand{\HAT}[1]{\widehat{#1}}
\newcommand{\TRANS}[1]{#1^{*}}

% Terms
\newcommand{\LET}[3]{\textbf{let}\ #1 = #2\ \textbf{in}\ #3}
\newcommand{\OBJ}[3]{\nu(#1:#2)#3}
\newcommand{\ABS}[3]{\lambda(#1:#2)#3}

% Definitions
\newcommand{\DEF}[2]{\{#1 = #2\}}
\newcommand{\AGG}[2]{#1 \wedge #2}

% Types
\newcommand{\FDEC}[2]{\{#1 : #2\}}
\newcommand{\REC}[2]{\mu(#1 : #2)}
\newcommand{\TDEC}[3]{\{#1 : #2 .. #3\}}
\newcommand{\DFUN}[3]{\forall(#1:#2)#3}
\newcommand{\IFUN}[3]{\forall\!\IMP\!(#1:#2)#3}
